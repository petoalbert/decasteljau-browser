<!DOCTYPE html>
<html>
	<head>
		<title>BÃ©zier-curve demo</title>
		<meta charset="UTF-8" />
		<style>
			body { margin: 0; overflow: hidden; }
			canvas { width: 100%; height: 100%; }
		</style>
	</head>
	<body>
		<script src="three.min.js"></script>
        <script src="controlpoint.js"></script>
        <script src="controlline.js"></script>
		<script src="bezier.js"></script>
        <script src="controls.js"></script>
		<script src="dat.gui.min.js"></script>
		<script>

		window.addEventListener( 'load', init );
		
		var renderer, scene, camera, bezier, controls;
		
		function init() {
			scene = new THREE.Scene();
			camera = new THREE.PerspectiveCamera(
				40,window.innerWidth/window.innerHeight, 0.1, 1000);
			
            renderer = new THREE.WebGLRenderer({ antialias: true });
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);	
		
			bezier = new BezierCurve();
			scene.add(bezier);
            animation = new DeCasteljauAnimation(bezier, 10);
            scene.add(animation);
			
			camera.position.z = 30;
			
			render();
			
			var canvas = renderer.domElement;
            controls = new Controls(scene, canvas, camera, bezier, animation)
		}
		
		function render() {
			requestAnimationFrame( render );
            animation.updateAnimation();
			renderer.render( scene, camera );
		}
			
		function onWindowResize() {

			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();

			renderer.setSize( window.innerWidth, window.innerHeight );

		}
		</script>
	</body>
</html>
